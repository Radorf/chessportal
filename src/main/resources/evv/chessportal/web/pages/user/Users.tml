<html xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      t:type="Layout">
<title>Users managing page</title>
    <p class="text-center">
        <a href="#" t:type="PageLink" t:page="user/createUser">${message:create}</a>	  
    </p>
    	
    <div>
        <form t:type="Form" class="form-horizontal" t:id="searchForm">

            <t:errors/>

            <div class="form-group">        
                <t:label for="searchKey" class="col-md-offset-3 col-md-2"/>
                <div class="col-md-3">
                    <input t:id="searchKey" t:type="TextField"
                           t:validate="required" maxlength="30" />
                </div>
            </div>	    


            <div class="form-group">
                <div class="col-md-offset-5 col-md-1">
                    <button type="submit" class="btn btn-primary">${message:search}</button>
                </div>
            </div>

        </form>


        <div class="w3-padding w3-white notranslate">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Login</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <t:loop source="userList" value="user" >
                        <tr>
                            <td>
                                <a href="#" t:type="PageLink" t:page="user/showUserProfile" context="user.id">${user.loginName}</a> 
                            </td>
                            <td>
                                ${user.person.firstName} ${user.person.surname}
                            </td>
                            <td>
                                ${user.person.email}
                            </td>
                            <td>
                                <a href="#" t:type="PageLink" t:page="user/editUserProfile" context="user.id">${message:editProfile}</a>
                            </td>
                            <td>
                                <a href="#" t:type="ActionLink" t:id="deleteUser" context="user.id">${message:delete}</a>                    
                            </td>
                        </tr>
                    </t:loop>
                </tbody>
            </table>
        </div>
    </div>

</html>
